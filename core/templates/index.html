{% load static %}
<!DOCTYPE html>
<html lang="es">

{% include 'plantillas-html/head.html' %}

<body>
    {% include 'plantillas-html/header.html' %}
    {% include 'plantillas-html/nav.html' %}

    {% if modal %}
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      let modal = document.querySelector("#modal-cuenta")
      modal.classList.toggle("show")
    });
    </script>
    {% endif %}

    <!-- INICIO MAIN -->
    <main>
        <div class="contenedor-carrusel">
            <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-indicators">
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                  {% for item in carrusel %}
                  <div class="carousel-item active">
                    <img src="{% static item.imagen %}" class="d-block w-100">
                  </div>
                  {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
        </div>
        <div class="separador-nombre">
            <div class="contenedor-titulo">
                <h1>OFERTAS</h1>
            </div>
        </div>
        <div class="contenedor-productos-todas-paginas">
          {% for item in productos %}
            {% if item.id_pagina == 1 %}
            <div class="contenedor-producto">
              <div class="carta">
                <div class="carta-img">
                  <img src="{% static item.imagen %}">
                </div>
                <div class="carta-nombre">
                  <h1>{{ item.nombre }}</h1>
                </div>
                <div class="carta-final">
                  <div class="carta-precio">
                    <h1>Precio: ${{ item.precio }}</h1>
                  </div>
                  <div class="carta-stock">
                    <h1>Stock: {{ item.stock}}</h1>
                  </div>  
                  <div class="contenedor-link-agregar">
                    <a href="{% url 'addToCar' item.id %}?next={{ request.path }}">AGREGAR</a>
                  </div>
                </div>
              </div>
          </div>
          {% endif %}
        {% endfor %}
        </div>
        <div class="separador-nombre">
            <div class="contenedor-titulo">
                <h1>POPULAR</h1>
            </div>
        </div>
        <div class="contenedor-productos-todas-paginas">
          {% for item in productos %}
            {% if item.id_pagina == 2 %}
            <div class="contenedor-producto">
              <div class="carta">
                <div class="carta-img">
                  <img src="{% static item.imagen %}">
                </div>
                <div class="carta-nombre">
                  <h1>{{ item.nombre }}</h1>
                </div>
                <div class="carta-final">
                  <div class="carta-precio">
                    <h1>Precio: ${{ item.precio }}</h1>
                  </div>
                  <div class="carta-stock">
                    <h1>Stock: {{ item.stock}}</h1>
                  </div>  
                  <div class="contenedor-link-agregar">
                    <a href="{% url 'addToCar' item.id %}?next={{ request.path }}">AGREGAR</a>
                  </div>
                </div>
              </div>
          </div>
          {% endif %}
        {% endfor %}
        </div>
    </main>
    {% include 'plantillas-html/footer.html' %}
</body>
    {% include 'plantillas-html/modal.html' %}
</html>